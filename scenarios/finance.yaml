id: finance
name: Finance Risk and Payments
version: 1.0.0
seed: 20260217
entities:
  - name: customers
    target_table: customers
    rows: 150000
    columns:
      - name: customer_id
        type: uuid
        generator:
          type: uuid4
      - name: full_name
        type: string
        generator:
          type: faker_name
      - name: city
        type: string
        generator:
          type: faker_city
      - name: segment
        type: string
        generator:
          type: choice
          params:
            values: [retail, smb, enterprise, vip]
            weights: [0.65, 0.2, 0.1, 0.05]
      - name: kyc_score
        type: int
        generator:
          type: uniform_int
          params:
            min: 1
            max: 101

  - name: accounts
    target_table: accounts
    rows: 240000
    columns:
      - name: account_id
        type: uuid
        generator:
          type: uuid4
      - name: customer_id
        type: uuid
        generator:
          type: fk
          params:
            entity: customers
            column: customer_id
      - name: account_type
        type: string
        generator:
          type: choice
          params:
            values: [checking, savings, credit, loan]
            weights: [0.45, 0.25, 0.2, 0.1]
      - name: risk_tier
        type: string
        generator:
          type: choice
          params:
            values: [low, medium, high]
            weights: [0.6, 0.3, 0.1]
      - name: opened_at
        type: timestamp
        generator:
          type: time_series
          params:
            start: "-365d"
            step: "1m"
            jitter_seconds: 86400

  - name: merchants
    target_table: merchants
    rows: 25000
    columns:
      - name: merchant_id
        type: uuid
        generator:
          type: uuid4
      - name: merchant_name
        type: string
        generator:
          type: faker_device_name
      - name: merchant_city
        type: string
        generator:
          type: faker_city
      - name: mcc
        type: int
        generator:
          type: uniform_int
          params:
            min: 1000
            max: 9999

  - name: payments
    target_table: payments
    rows: 3200000
    columns:
      - name: payment_id
        type: uuid
        generator:
          type: uuid4
      - name: account_id
        type: uuid
        generator:
          type: fk
          params:
            entity: accounts
            column: account_id
      - name: merchant_id
        type: uuid
        generator:
          type: fk
          params:
            entity: merchants
            column: merchant_id
      - name: amount
        type: double
        generator:
          type: uniform_float
          params:
            min: 1.25
            max: 25000.0
      - name: currency
        type: string
        generator:
          type: choice
          params:
            values: [USD, EUR, GBP, CAD, JPY]
            weights: [0.65, 0.12, 0.08, 0.08, 0.07]
      - name: status
        type: string
        generator:
          type: choice
          params:
            values: [approved, declined, review]
            weights: [0.94, 0.04, 0.02]
      - name: created_at
        type: timestamp
        generator:
          type: time_series
          params:
            start: "-120d"
            step: "150ms"
            jitter_seconds: 30

  - name: fraud_alerts
    target_table: fraud_alerts
    rows: 180000
    columns:
      - name: alert_id
        type: uuid
        generator:
          type: uuid4
      - name: payment_id
        type: uuid
        generator:
          type: fk
          params:
            entity: payments
            column: payment_id
      - name: severity
        type: string
        generator:
          type: choice
          params:
            values: [low, medium, high, critical]
            weights: [0.42, 0.34, 0.18, 0.06]
      - name: reason_code
        type: string
        generator:
          type: choice
          params:
            values: [velocity_spike, geolocation_mismatch, amount_anomaly, device_fingerprint, chargeback_history]
      - name: score
        type: float
        generator:
          type: normal
          params:
            mean: 62
            std: 17
      - name: opened_at
        type: timestamp
        generator:
          type: time_series
          params:
            start: "-120d"
            step: "2s"
            jitter_seconds: 90
